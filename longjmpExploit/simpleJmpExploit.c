#include<stdio.h>
#include<stdlib.h>
#include <setjmp.h>
#include<string.h>

main()
{
  jmp_buf env;
  char inp[50];
  char buf[25];
  int i;

  i = setjmp(env);
  printf("i = %d\n", i);
  if (i != 0) exit(0);

  //vulnerability here, can copy a string larger than buffer size 25 into buf variable
  scanf("%s", inp);
  strcpy(buf, inp);

  longjmp(env, 2);
  printf("Does this line get printed?\n");

}

